[gd_scene load_steps=6 format=3 uid="uid://cx5t2048q14qi"]

[ext_resource type="Theme" uid="uid://bop4hraw6qcc6" path="res://assets/temas/main theme.tres" id="1_vvx8d"]
[ext_resource type="Texture2D" uid="uid://debwxt85wo8mm" path="res://assets/Images/background/4.png" id="2_vfqu6"]
[ext_resource type="Theme" uid="uid://cs6vblrbydtv6" path="res://scenes/components/temaTopics.tres" id="3_7rqgn"]
[ext_resource type="Theme" uid="uid://b0h6dkim6mpq2" path="res://assets/temas/temaTopics.tres" id="3_l6rb2"]

[sub_resource type="GDScript" id="GDScript_e7rrv"]
script/source = "extends Control



# Called when the node enters the scene tree for the first time.
func _ready():
	
	var topics
	match GameManager.params:
		ESG.ESG_GROUPS.ENVIROMENT:
			$LabelTitle.text = \"Ambiental\"
			topics = ESG.yes_enviroment
		ESG.ESG_GROUPS.SOCIAL:
			$LabelTitle.text = \"Social\"
			topics = ESG.yes_social
		ESG.ESG_GROUPS.GOVERNANCE:
			topics = ESG.yes_governance
			$LabelTitle.text = \"Governan√ßa\"
	
	for t in topics:
		var scene = load(\"res://scenes/components/topic_component.tscn\")
		var instance = scene.instantiate()
		instance.get_node(\"topicComponent/LabelTopico\").text = ESG.esg_half_table[t]
		instance.get_node(\"topicComponent/LabelNum\").text = str(ScoreManager.score[t])
		$Topics.add_child(instance)
		
		#texto.text = ESG.esg_half_table[t]


#str(ScoreManager.score[t])


func _on_button_back_pressed():
	TransitionScene.load_scene(\"res://scenes/pages/score_page.tscn\",\"shader4\")
	#get_tree().change_scene_to_file(\"res://scenes/pages/score_page.tscn\")
"

[node name="TopicsPage" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_vvx8d")
script = SubResource("GDScript_e7rrv")

[node name="TextureRect" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_vfqu6")
expand_mode = 5

[node name="LabelTitle" type="Label" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 88.0
grow_horizontal = 2
theme = ExtResource("3_l6rb2")
theme_override_font_sizes/font_size = 64
text = "Meio Ambiente"
horizontal_alignment = 1

[node name="Topics" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 14
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_top = -45.0
offset_bottom = 45.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("3_7rqgn")

[node name="ButtonBack" type="Button" parent="."]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -8.0
grow_horizontal = 2
grow_vertical = 0
theme_override_font_sizes/font_size = 64
text = "Voltar"

[connection signal="pressed" from="ButtonBack" to="." method="_on_button_back_pressed" flags=7]
